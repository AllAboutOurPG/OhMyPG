<div class="register-container">
  <div class="register-form">
    <form [formGroup]="registerForm">
      <mat-tab-group>
        <mat-tab label="Personal Details">
          <ng-template matTabContent>
            <br>
            <div style="padding-left: 30%;padding-right: 30%;">
              <mat-form-field class="width100">
                <mat-label>Register as: *</mat-label>
                <mat-select formControlName="registerAs">
                  <mat-option [value]="true">
                    Owner
                  </mat-option>
                  <mat-option [value]="false">
                    Tenant
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            <br>
            <div formGroupName="personalDetails" class="personal-container" *ngIf="registerForm.get('registerAs').valid">
              <div class="personal-section1">
                <mat-form-field class="width100">
                  <mat-label>First Name*</mat-label>
                  <input matInput placeholder="Ex : Subhash" formControlName="firstName">
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Gender*</mat-label>
                  <mat-select formControlName="gender">
                    <mat-option *ngFor="let gender of genders | async" [value]="gender.gender">
                      {{gender.gender}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Differently Abled*</mat-label>
                  <mat-select formControlName="diffAbled">
                    <mat-option [value]="true">
                      Yes
                    </mat-option>
                    <mat-option [value]="false">
                      No
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Email 1*</mat-label>
                  <input matInput placeholder="Ex : michealjackson@gmail.com" formControlName="email1">
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Religion*</mat-label>
                  <mat-select formControlName="religion">
                    <mat-option *ngFor="let religion of religions | async" [value]="religion.religion">
                      {{religion.religion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Aadhar No*</mat-label>
                  <input matInput placeholder="Ex: 987654321098" formControlName="aadharNo">
                </mat-form-field>
              </div>
              <div class="personal-section2">
                <mat-form-field class="width100">
                  <mat-label>Last Name*</mat-label>
                  <input matInput placeholder="Ex : Bose" formControlName="lastName">
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Date of Birth*</mat-label>
                  <input matInput [matDatepicker]="dob" formControlName="dob">
                  <mat-datepicker-toggle matSuffix [for]="dob"></mat-datepicker-toggle>
                  <mat-datepicker #dob></mat-datepicker>
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Mobile 1*</mat-label>
                  <input matInput placeholder="Ex. 9876543210" formControlName="mobile1" maxlength="10">
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Email 2</mat-label>
                  <input matInput placeholder="Ex : michealjackson@gmail.com" formControlName="email2">
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Nationality*</mat-label>
                  <mat-select formControlName="nationality">
                    <mat-option [value]="true">
                      Indian
                    </mat-option>
                    <mat-option [value]="false">
                      Others
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>PAN No</mat-label>
                  <input matInput placeholder="ABCDE1234F" formControlName="panNo" maxlength="10">
                </mat-form-field>
              </div>
              <div class="personal-section3">
                <mat-form-field class="width100">
                  <mat-label>Middle Name</mat-label>
                  <input matInput placeholder="Ex: Chandra" formControlName="middleName">
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Martial Status*</mat-label>
                  <mat-select formControlName="martialStatus">
                    <mat-option *ngFor="let status of martialStatus | async" [value]="status.status">
                      {{status.status}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Mobile 2</mat-label>
                  <input matInput placeholder="Ex. 9876543210" formControlName="mobile2" maxlength="10">
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Languages Known</mat-label>
                  <mat-select formControlName="languagesKnown" multiple>
                    <mat-option *ngFor="let language of languages | async" [value]="language.language">
                      {{language.language}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Domicile*</mat-label>
                  <input matInput placeholder="Ex: Andhra Pradesh" formControlName="domicile">
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Passport No</mat-label>
                  <input matInput placeholder="Ex : J1234567" formControlName="passportNo" maxlength="8">
                </mat-form-field>
              </div>
            </div>
            <div class="dropzone" dropzone (hovered)="toggleHover($event)" (dropped)="onDrop($event)"
              [class.hovering]="isHovering" *ngIf="registerForm.get('registerAs').valid">
              
              <div style="padding-left: 25%;padding-right: 30%;">
                <h3>Upload your ID Proof here</h3>
                <mat-form-field style="width: 150%;">
                  <mat-label>Select an ID proof to upload*</mat-label>
                  <mat-select formControlName="uploadFile" [(value)]="selectedProof">
                    <mat-option *ngFor="let proof of idProofs | async" [value]="proof.type">
                      {{proof.type}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>            
              
              <div class="file" *ngIf="registerForm.get('uploadFile').valid">
                <p>Drag and Drop File or ... </p>
                <label class="file-label">
                  <input class="file-input" formControlName="chooseFile" type="file" (change)="onDrop($event.target.files)">
                  <span class="file-cta">
                    <span class="file-icon">
                      <i class="fa fa-upload"></i>
                    </span>
                  </span>
                </label>
              </div>
            </div>
            <div *ngFor="let file of files">
              <upload-task [file]="file" [documentType]="selectedProof"></upload-task>
            </div>            
          </ng-template>
        </mat-tab>
        <mat-tab label="Address Details" [disabled]="registerForm.get('personalDetails').invalid">
          <ng-template matTabContent>
            <div formGroupName="address" class="Address-container">
              <div class="card" formGroupName="presentaddress">
                <mat-label>Present Address</mat-label>
                <br>
                <mat-form-field class="width100">
                  <mat-label>Address1*</mat-label>
                  <input formControlName="address1" matInput placeholder="Address1">
                </mat-form-field>
                <br>
                <mat-form-field class="width100">
                  <mat-label>Address2*</mat-label>
                  <input formControlName="address2" matInput placeholder="Address2">
                </mat-form-field>
                <br>
                <mat-form-field class="width100">
                  <mat-label>Address3</mat-label>
                  <input formControlName="address3" matInput placeholder="Address3">
                </mat-form-field>
                <br>
                <mat-form-field class="width100">
                  <mat-label>LandMark</mat-label>
                  <input formControlName="landMark" matInput placeholder="LandMark">
                </mat-form-field>
                <br>
                <mat-form-field class="width100">
                  <mat-label>City*</mat-label>
                  <input formControlName="city" matInput placeholder="City">
                </mat-form-field>
                <br>
                <mat-form-field class="width100">
                  <mat-label>State*</mat-label>
                  <input formControlName="state" matInput placeholder="State">
                </mat-form-field>
                <br>
                <mat-form-field class="width100">
                  <mat-label>Pincode*</mat-label>
                  <input formControlName="pincode" matInput placeholder="Pincode">
                </mat-form-field>
                <br>
                <div *ngIf="registerForm.get('address').get('presentaddress').valid">
                  <mat-checkbox (change)="CopyAddress()" [formControl]="isSameAddressControl">Copy Permanent address
                    same as Present address </mat-checkbox>
                </div>
              </div>
              <div class="card" formGroupName="permanentaddress">
                <mat-label>Permanent Address</mat-label>
                <br>
                <mat-form-field class="width100">
                  <mat-label>Address1*</mat-label>
                  <input formControlName="address1" matInput placeholder="Address1">
                </mat-form-field>
                <br>
                <mat-form-field class="width100">
                  <mat-label>Address2*</mat-label>
                  <input formControlName="address2" matInput placeholder="Address2">
                </mat-form-field>
                <br>
                <mat-form-field class="width100">
                  <mat-label>Address3</mat-label>
                  <input formControlName="address3" matInput placeholder="Address3">
                </mat-form-field>
                <br>
                <mat-form-field class="width100">
                  <mat-label>LandMark</mat-label>
                  <input formControlName="landMark" matInput placeholder="LandMark">
                </mat-form-field>
                <br>
                <mat-form-field class="width100">
                  <mat-label>City*</mat-label>
                  <input formControlName="city" matInput placeholder="City">
                </mat-form-field>
                <br>
                <mat-form-field class="width100">
                  <mat-label>State*</mat-label>
                  <input formControlName="state" matInput placeholder="State">
                </mat-form-field>
                <br>
                <mat-form-field class="width100">
                  <mat-label>Pincode*</mat-label>
                  <input formControlName="pincode" matInput placeholder="Pincode">
                </mat-form-field>
              </div>
            </div>
          </ng-template>
        </mat-tab>
        <mat-tab label="Official Information" [disabled]="registerForm.get('address').invalid">
          <ng-template matTabContent>
            <div formGroupName="officalInfo" class="personal-container">
              <div class="personal-section1">
                <mat-form-field class="width100">
                  <mat-label>Profession*</mat-label>
                  <mat-select formControlName="profession">
                    <mat-option *ngFor="let profession of professions | async" [value]="profession.type">
                      {{profession.type}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Company/College Name*</mat-label>
                  <input matInput placeholder="Ex: Facebook, Inc." formControlName="companyName">
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Blood Group*</mat-label>
                  <mat-select formControlName="bloodGroup">
                    <mat-option *ngFor="let bloodGroup of bloodGroups | async" [value]="bloodGroup.type">
                      {{bloodGroup.type}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Emergency Contact Phone1*</mat-label>
                  <input matInput placeholder="Ex: 9876543210" formControlName="emergencyPhone">
                </mat-form-field>
              </div>
              <div class="personal-section2">
                <mat-form-field class="width100">
                  <mat-label>Educational Qualification*</mat-label>
                  <mat-select formControlName="qualification">
                    <mat-option *ngFor="let qualification of educationalQualifications | async"
                      [value]="qualification.degree">
                      {{qualification.degree}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Company/College Location*</mat-label>
                  <input matInput placeholder="Ex: Financial District, Hyderabad." formControlName="companyLocation">
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Emergency Contact Name*</mat-label>
                  <input matInput placeholder="Ex: Remo D'souza" formControlName="emergencyName">
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Emergency Contact Phone2</mat-label>
                  <input matInput placeholder="Ex: 9876543210" formControlName="emergencyPhone2">
                </mat-form-field>
              </div>
              <div class="personal-section3">
                <mat-form-field class="width100">
                  <mat-label>Vehicle No(if any)</mat-label>
                  <input matInput placeholder="Ex: TS 01 AB 1234" formControlName="vehicleNo">
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Company Email(for employees only)</mat-label>
                  <input matInput placeholder="Ex: markzukerberg@facebook.com" formControlName="companyEmail">
                </mat-form-field>
                <mat-form-field class="width100">
                  <mat-label>Relationship with Contact*</mat-label>
                  <mat-select formControlName="emergencyRelation">
                    <mat-option *ngFor="let humanRelation of humanRelations | async" [value]="humanRelation.relation">
                      {{humanRelation.relation}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div class="register-button">
            <button mat-raised-button color="primary" (click)="Register()" [disabled]="registerForm.invalid">Register</button>
          </div>
          </ng-template>
        </mat-tab>
      </mat-tab-group>
    </form>
  </div>
</div>